<!DOCTYPE html>
<html>
<head>
  <title>Nobar Online</title>
</head>
<body>

<video id="video" width="600" controls>
  <source src="video.mp4" type="video/mp4">
</video>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();
  const video = document.getElementById("video");

  video.addEventListener("play", () => {
    socket.emit("play", video.currentTime);
  });

  video.addEventListener("pause", () => {
    socket.emit("pause", video.currentTime);
  });

  video.addEventListener("seeked", () => {
    socket.emit("seek", video.currentTime);
  });

  socket.on("play", (time) => {
    video.currentTime = time;
    video.play();
  });

  socket.on("pause", (time) => {
    video.currentTime = time;
    video.pause();
  });

  socket.on("seek", (time) => {
    video.currentTime = time;
  });
</script>

</body>
</html>